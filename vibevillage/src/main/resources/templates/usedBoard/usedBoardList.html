<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <style>
    .product-status{
      font-size: large;
      font-weight: bold;
      text-align: -webkit-left;
    }
    .used_location_style{
      text-align: -webkit-left;
    }
  </style>
  <div th:replace="~{common/head :: head}"></div>
</head>
<body data-spy="scroll" data-target=".onpage-navigation" data-offset="60">
<main>
  <div class="page-loader">
    <div class="loader">Loading...</div>
  </div>
  <div th:replace="~{common/nav :: nav}"></div>
  <div class="main">
    <section class="module bg-dark-60 shop-page-header" data-background="assets/images/shop/product-page-bg.jpg">
      <div class="container">
        <div class="row">
          <div class="col-sm-6 col-sm-offset-3">
            <h2 class="module-title font-alt">Shop Products</h2>
            <div class="module-subtitle font-serif">A wonderful serenity has taken possession of my entire soul, like these sweet mornings of spring which I enjoy with my whole heart.</div>
          </div>
        </div>
      </div>
    </section>
    <section class="module-small">
      <div class="container">
        <form class="row">
          <div class="col-sm-2 mb-sm-20">
            <select class="form-control">
              <option selected="selected">도</option>
              <option>Popular</option>
              <option>Latest</option>
              <option>Average Price</option>
              <option>High Price</option>
              <option>Low Price</option>
            </select>
          </div>
          <div class="col-sm-2 mb-sm-20">
            <select class="form-control">
              <option selected="selected">시 군</option>
              <option>Man</option>
            </select>
          </div>
          <div class="col-sm-2 mb-sm-20" >
            <select class="form-control" id="category" onchange="sendCategoryValue()">
              <option value="1">디지털기기</option>
              <option value="2">가구/인테리어</option>
              <option value="3">유아동</option>
              <option value="4">여성의류</option>
              <option value="5">여성잡화</option>
              <option value="6">남성패션/잡화</option>
              <option value="7">생활가전</option>
              <option value="8">생활/주방</option>
              <option value="9">스포츠/레저</option>
              <option value="10">취미/게임/음반</option>
              <option value="11">뷰티/미용</option>
              <option value="12">식물</option>
              <option value="13">가공식품</option>
              <option value="14">건강기능식품</option>
              <option value="15">반려동물용품</option>
              <option value="16">티켓/교환권</option>
              <option value="17">도서</option>
              <option value="18">유아도서</option>
              <option value="19">기타중고물품</option>
            </select>
          </div>
          <div class="col-sm-2" style="float: right;">
            <a th:href="@{/used/boardCreate}">
              <button type="button" class="btn btn-block btn-round btn-g" >글쓰기
              </button>
            </a>
          </div>
        </form>
      </div>
    </section>
    <hr class="divider-w">
    <section class="module-small">
      <div class="container">
        <div class="row multi-columns-row">
          <div class="col-sm-6 col-md-3 col-lg-3" th:each="item : ${usedList}">
            <div class="shop-item">
              <div>
              <p class="product-status" th:text="${item.usedBoardStatus}"></p>
              </div>
              <div class="shop-item-image" th:each="image : ${item.images}">

                <img th:src="@{${image.PROJECTREACTOR} + ${image.uploadUniqueName}}" style="width: 345px; height: 345px" alt="Accessories Pack"/>

              </div>
              <h4 class="shop-item-title font-alt">
                <a th:href="@{/used/boardDetail/{id}(id=${item.usedBoardId})}">
                <p th:text="${item.usedBoardTitle}"></p>
                </a>
              </h4>
              <a th:href="@{/used/boardDetail/{id}(id=${item.usedBoardId})}">
              <p style="font-weight: bold;text-align: left;" th:text="${item.usedBoardProductPrice}">원</p>
                <p class="used_location_style" th:text="${item.usedBoardLocation}"></p>
                <p class="used_location_style" th:text="'조회수:'+${item.usedBoardViews}"></p>
              </a>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <!-- 페이지네이션 -->
            <div class="pagination font-alt">
               <a th:if="${pi.currentPage == 1}" href="#">
             <i class="fa fa-angle-left" >
             </i>
               </a>
               <a th:if="${pi.currentPage > 1}" th:href="@{/used/boardList/{cpage}(cpage=${pi.currentPage - 1})}">
                 <i class="fa fa-angle-left">
                 </i>
               </a>
              <a th:each="page:${#numbers.sequence(pi.startPage,pi.endPage)}"
                      th:href="@{/used/boardList/{cpage}(cpage=${page})}" th:text="${page}"></a>
                <a th:if="${pi.currentPage == pi.maxPage}" href="#">
              <i class="fa fa-angle-right">
              </i>
                </a>
                <a th:if="${pi.currentPage < pi.maxPage}" th:href="@{/used/boardList/{cpage}(cpage=${pi.currentPage + 1})}">
                  <i class="fa fa-angle-right">
              </i>
                </a>
            </div>
          </div>
        </div>
      </div>
    </section>
    <hr class="divider-d">
  </div>
  <div class="scroll-up"><a href="#totop"><i class="fa fa-angle-double-up"></i></a></div>
</main>
<div th:replace="~{common/footer :: footer}"></div>
<!--
JavaScripts
=============================================
-->
<div th:replace="~{common/js :: js}"></div>

<script>
  function sendCategoryValue() {
    const selectedCategory = document.getElementById("category").value;
    const url = `/used/boardList/1?category=${selectedCategory}`;
    window.location.href = url;
  }

</script>
</body>
</html>
